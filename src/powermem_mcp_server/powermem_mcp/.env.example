# =============================================================================
# PowerMem MCP Server Configuration
# =============================================================================
# Copy this file to .env and modify the values according to your needs
# =============================================================================

# =============================================================================
# Database Configuration
# =============================================================================
# Database provider: "oceanbase", "postgres", or "sqlite"
DATABASE_PROVIDER=oceanbase

# Common database settings
DATABASE_COLLECTION_NAME=memories
DATABASE_EMBEDDING_MODEL_DIMS=1536
DATABASE_PRIMARY_FIELD=id
DATABASE_VECTOR_FIELD=embedding
DATABASE_TEXT_FIELD=document
DATABASE_METADATA_FIELD=metadata
DATABASE_VIDX_NAME=memories_vidx

# OceanBase Configuration (used when DATABASE_PROVIDER=oceanbase)
DATABASE_HOST=127.0.0.1
DATABASE_PORT=2881
DATABASE_USER=root@sys
DATABASE_PASSWORD=password
DATABASE_NAME=powermem
DATABASE_VECTOR_METRIC_TYPE=cosine
DATABASE_INDEX_TYPE=IVF_FLAT

# PostgreSQL Configuration (used when DATABASE_PROVIDER=postgres)
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_USER=postgres
# DATABASE_PASSWORD=password
# DATABASE_NAME=powermem
DATABASE_DISKANN=true
DATABASE_HNSW=true

# SQLite Configuration (used when DATABASE_PROVIDER=sqlite)
# DATABASE_PATH=./data/powermem_dev.db
DATABASE_ENABLE_WAL=true
DATABASE_TIMEOUT=30

# =============================================================================
# LLM Configuration
# =============================================================================
# LLM provider: "qwen", "openai", etc.
LLM_PROVIDER=qwen
LLM_API_KEY=your_llm_api_key_here
LLM_MODEL=qwen-plus
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=1000
LLM_TOP_P=0.8
LLM_TOP_K=50

# LLM Base URL (optional, provider-specific)
# For Qwen:
LLM_BASE_URL=https://dashscope.aliyuncs.com/api/v1
LLM_ENABLE_SEARCH=false

# For OpenAI:
# LLM_BASE_URL=https://api.openai.com/v1

# =============================================================================
# Embedding Configuration
# =============================================================================
EMBEDDING_PROVIDER=qwen
EMBEDDING_API_KEY=your_embedding_api_key_here
EMBEDDING_MODEL=text-embedding-v4
EMBEDDING_DIMS=1536

# =============================================================================
# Intelligent Memory Configuration
# =============================================================================
INTELLIGENT_MEMORY_ENABLED=true
INTELLIGENT_MEMORY_INITIAL_RETENTION=1.0
INTELLIGENT_MEMORY_DECAY_RATE=0.1
INTELLIGENT_MEMORY_REINFORCEMENT_FACTOR=0.3
INTELLIGENT_MEMORY_WORKING_THRESHOLD=0.3
INTELLIGENT_MEMORY_SHORT_TERM_THRESHOLD=0.6
INTELLIGENT_MEMORY_LONG_TERM_THRESHOLD=0.8

# =============================================================================
# Agent Memory Configuration
# =============================================================================
AGENT_ENABLED=true
AGENT_MEMORY_MODE=auto
AGENT_DEFAULT_SCOPE=AGENT
AGENT_DEFAULT_PRIVACY_LEVEL=PRIVATE
AGENT_DEFAULT_COLLABORATION_LEVEL=READ_ONLY
AGENT_DEFAULT_ACCESS_PERMISSION=OWNER_ONLY

# =============================================================================
# Telemetry Configuration
# =============================================================================
TELEMETRY_ENABLED=false
TELEMETRY_ENDPOINT=https://telemetry.powermem.ai
TELEMETRY_API_KEY=
TELEMETRY_BATCH_SIZE=100
TELEMETRY_FLUSH_INTERVAL=30

# =============================================================================
# Audit Configuration
# =============================================================================
AUDIT_ENABLED=true
AUDIT_LOG_FILE=./logs/audit.log
AUDIT_LOG_LEVEL=INFO
AUDIT_RETENTION_DAYS=90

# =============================================================================
# Logging Configuration
# =============================================================================
LOGGING_LEVEL=DEBUG
LOGGING_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOGGING_FILE=./logs/powermem.log

# =============================================================================
# Reranker Configuration
# =============================================================================
RERANKER_ENABLED=false
RERANKER_PROVIDER=qwen
RERANKER_MODEL=
RERANKER_API_KEY=
